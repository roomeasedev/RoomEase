<!--
    Template for the Fridge view that will be injected into Index.html at runtime when the user
        navigates to the Fridge page. It will include the list of food items with their sharing
        preference and expiration dates that will be dynamically loaded from local storage.  -->

<!-- Omar's initial fridge mockup, currently for reference, to be deleted at some point
<form>
    <input type="text" placeholder="Text" id="text"><br>
    <input type="text" placeholder="Owner" id="owner"><br>
    <input type="date" id="date"><br>
</form>
<button id="store" onclick="re.storage.store('fridge')">Store</button>
<button id="show" onclick="re.storage.show('fridge')">Show</button>
<button id="clear" onclick="re.storage.clear('fridge')">Clear</button><br>
<textarea rows="20" columns="40" id="area"></textarea>-->

<script>
    document.getElementById("navbar").style.display = "";
</script>

<div class="divider teal lighten-4"></div>
<div class="row">
    <div class="nav-wrapper">
      <ul class="tabs">
        <li class="tab col s3 teal lighten-1"><a class="white-text" href="#fridge-mine">Mine</a></li>
        <li class="tab col s3 teal lighten-1"><a class="active white-text" href="#fridge-shared">Shared</a></li>
      </ul>
    </div>
</div>

{{#each this}}
    <div class="list-item" id="{{ this._id }}">
        <h5>{{ this.item }} expires in {{ this.expiration }} days</h5>
        
        {{#ifCond this.sharable '==' "yes"}}
            <h5>Shared</h5>
        {{/ifCond}}
    </div>
{{/each}}

<!-- Button to add new fridge items -->
<div class="fixed-action-btn" onclick="re.controller.makeNewFridgeItem()" id="new-fridge-item-btn" style="bottom: 45px; right: 24px;">
    <a class="btn-floating btn-large waves-effect waves-light pink"><i class="material-icons">add</i></a>
</div>

<!-- Small popup menu to add new list, hidden by default -->
<div class="popupBackground">
    <div class="popup">
        
        <h4 class="white-text">Add Item</h4>
        <div class="divider teal lighten-4"></div>
        
        <div id="namediv">
            <h4 class="white-text" style="float left">Name</h4>
            <form id="fridge-item">
                <input type="text" placeholder="" id="name"><br>
            </form>
        </div>
        
        <div id="expirationdiv">
            <h5 class="white-text" style="float left">Expires on</h5>
            <input type="text" placeholder="" id="expiration"><br>
        </div>
        
        <div id="shared" style="margin 5em">
            <h5 class="white-text" style="float left">Shared</h5>
            <form action="#">
                    <input class="with-gap" name="group1" type="radio" id="yes" checked />
                    <label class="white-text" for="yes-button">Yes</label>
                    <input class="with-gap" name="group1" type="radio" id="test2"/>
                    <label class="white-text" for="no-button">No</label>
                    <input class="with-gap" name="group1" type="radio" id="ask-button"/>
                    <label class="white-text" for="ask-button">Ask</label>
            </form>
        </div>
        
        <div id="buttons">
            <button class="btn waves-effect waves-light popup-button" 
                type="submit" onclick="re.controller.hidePopup()" style="float:left" name="action" id="cancel">Cancel</button>
            
            <button class="btn waves-effect waves-light popup-button" 
                type="submit" style="float:right" name="action" id="done">Done</button>
            
            <button class="btn waves-effect waves-light popup-button" 
                type="submit" style="position: absolute; left: 35%" name="action" id="next-item">Next Item</button>
        </div>
    </div>
</div>